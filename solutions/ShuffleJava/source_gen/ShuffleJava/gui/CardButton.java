package ShuffleJava.gui;

/*Generated by MPS */

import javax.swing.JButton;
import ShuffleJava.runtime.Card;
import javax.swing.ImageIcon;
import java.awt.event.MouseListener;
import java.awt.event.MouseEvent;
import java.awt.Cursor;
import java.awt.Dimension;
import java.awt.Graphics;

public class CardButton extends JButton {
  private Card card;
  private Boolean faceup;
  private static String imageFaceup;
  private static String imageFacedown = "deckback_small.jpg";
  private ImageIcon iconFacedown;
  private ImageIcon iconFaceup;

  public static int DEFAULT_HEIGHT;
  public static int DEFAULT_WIDTH;



  public CardButton(Card card) {
    this.card = card;
    imageFaceup = card.getSuit() + "_" + card.getRank() + ".png";
    ClassLoader classLoader = getClass().getClassLoader();
    iconFacedown = new ImageIcon(classLoader.getResource(imageFacedown));
    iconFaceup = new ImageIcon(classLoader.getResource(imageFaceup));
    this.setMaximumSize(this.getDimension());
    this.faceup = false;
    this.addMouseListener(new MouseListener() {
      public void mouseClicked(MouseEvent p0) {
        setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));
      }

      public void mousePressed(MouseEvent p0) {
      }

      public void mouseReleased(MouseEvent p0) {
      }

      public void mouseEntered(MouseEvent p0) {
        CardButton.this.getTopLevelAncestor().setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));

      }

      public void mouseExited(MouseEvent p0) {
        CardButton.this.getTopLevelAncestor().setCursor(Cursor.getPredefinedCursor(Cursor.DEFAULT_CURSOR));
      }
    });
  }



  public Dimension getDimension() {
    return new Dimension(this.iconFaceup.getIconWidth(), this.iconFaceup.getIconHeight());
  }



  public void setFaceup(Boolean faceup) {
    this.faceup = faceup;
  }



  public void update() {
    if (faceup) {
      this.setIcon(iconFaceup);
    } else {
      this.setIcon(iconFacedown);
    }
  }



  public void paintComponent(Graphics g) {
    super.paintComponent(g);
    this.update();
  }
}
